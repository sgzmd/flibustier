<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <style>
    div.search-record {
        padding-top: 1em;
        padding-bottom: 0.5em;
    }

    div.search-record > .title {
        font-size: larger;
        color: brown;
    }

    div.search-record > .author {
        color: darkgrey;
    }

    </style>

</head>
<body>

<h1>Flibusta Tracker</h1>

<form method="GET" action="/">
    <input type="text" name="search_term"/>
    <input type="submit"/>
</form>

<div th:each="sr : ${searchResults}" class="search-record">
    <div class="title">
        <span th:text="${sr.name}"/>&nbsp;<a th:href="@{/track(entryId=${sr.entryId},entryType=${sr.entryType},entryName=${sr.name})}">Track</a>&nbsp;<a th:href="@{http://flibusta.is/sequence/{seqId}(seqId=${sr.entryId})}">Link</a>
    </div>
    <div class="author">
        <span th:text="${sr.author}"/>
    </div>
</div>

<div th:if="${tracked != null && !tracked.empty}">
    <h2>Tracked entries</h2>
    <div th:each="entry : ${tracked}">
        <a th:href="@{http://flibusta.is/sequence/{seqId}(seqId=${entry.entryId})}"><span th:text="${entry.entryName}"/></a> (<span th:text="${entry.numEntries}"/> entries) <a th:href="@{/untrack(id=${entry.id})}">x</a>
    </div>
</div>

</body>
</html>