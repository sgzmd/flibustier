FROM openjdk:11

ENV TELEGRAM_API_KEY ""
ENV TELEGRAM_CHAT_ID ""
ENV FLIBUSERVER_HOST ""
ENV FLIBUSERVER_PORT ""
ENV MARIA_HOST ""
ENV MARIA_PORT ""
ENV MYSQL_DATABASE ""
ENV MYSQL_USER ""
ENV MYSQL_PASSWORD ""
ENV GOOGLE_CLIENT_ID ""
ENV GOOGLE_CLIENT_SECRET ""

RUN mvn package
ARG JAR_FILE=target/*.jar
COPY ${JAR_FILE} app.jar
COPY ./run_flibustier.sh ./run_flibustier.sh
ENTRYPOINT ["./run_flibustier.sh"]